<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Add Product</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
  <link rel="stylesheet" href="/css/admin/addProduct.css">
</head>

<body class="bg-white text-gray-700">
  <div class="flex h-screen">
    <!-- Sidebar -->
   

    <!-- Main Content - Full width -->
    <section class="content-main">
      <div class="content-header">
        <h2 class="content-title">Add Product</h2>
      </div>
      <div class="card">
        <div class="card-body">
          <form id="productForm" action="/admin/addProduct" method="post" enctype="multipart/form-data" class="form-container">
            <div class="form-grid">
              <!-- Column 1 -->
              <div>
                <div class="mb-4">
                  <label for="productName" class="form-label">Product Name *</label>
                  <input name="productName" class="form-control" type="text" placeholder="Type here" required/>
                  <div id="productName-error" class="error-message"></div>
                </div>
                <div class="mb-4">
                  <label class="form-label">Product Description *</label>
                  <textarea name="description" class="form-control" placeholder="Type here" required></textarea>
                  <div id="description-error" class="error-message"></div>
                </div>
                <div class="mb-4">
                  <label class="form-label">How To Use *</label>
                  <textarea name="howToUse" class="form-control" placeholder="Type here" required></textarea>
                  <div id="howToUse-error" class="error-message"></div>
                </div>
                <select name="category" class="form-control" required>
                  <option value="" disabled selected hidden>Select Category</option>
                  <% if (cat && cat.length > 0) { %>
                    <% cat.forEach(category => { %>
                      <option value="<%= category.categoryName %>">
                        <%= category.categoryName %>
                      </option>
                    <% }); %>
                  <% } else { %>
                    <option value="" disabled>No categories available</option>
                  <% } %>
                </select>
              </div>
              <!-- Column 2 -->
              <div>
                <div class="mb-4">
                  <label class="form-label">Skin Type *</label>
                  <select name="skinType" class="form-control" required>
                    <option value="" disabled selected hidden>Select Skin Type</option>
                    <option value="Oily">Oily</option>
                    <option value="Dry">Dry</option>
                    <option value="Combination">Combination</option>
                    <option value="Normal">Normal</option>
                    <option value="Sensitive">Sensitive</option>
                    <option value="All Skin Types">All Skin Types</option>
                  </select>
                  <div id="skinType-error" class="error-message"></div>
                </div>
                <div class="mb-4">
                  <label class="form-label">Skin Concern *</label>
                  <select name="skinConcern" class="form-control" required>
                    <option value="" disabled selected hidden>Select Skin Concern</option>
                    <option value="Acne">Acne</option>
                    <option value="Dryness">Dryness</option>
                    <option value="Oiliness">Oiliness</option>
                    <option value="Aging">Aging</option>
                    <option value="Pigmentation">Pigmentation</option>
                    <option value="Sensitivity">Sensitivity</option>
                  </select>
                  <div id="skinConcern-error" class="error-message"></div>
                </div>
                <div class="mb-4">
                  <label class="form-label">Regular Price *</label>
                  <input name="regularPrice" class="form-control" type="number" step="0.01" placeholder="Type here"/>
                  <div id="regularPrice-error" class="error-message"></div>
                </div>
                <div class="mb-4">
                  <label class="form-label">Sale Price</label>
                  <input name="salePrice" class="form-control" type="number" step="0.01" placeholder="Type here"/>
                  <div id="salePrice-error" class="error-message"></div>
                </div>
                <div class="mb-4">
                  <label class="form-label">Stock Quantity *</label>
                  <input name="quantity" class="form-control" type="number" placeholder="Type here"/>
                  <div id="quantity-error" class="error-message"></div>
                </div>
              </div>
            </div>
            
            <!-- Product Images Section - Full width -->
            <div class="mb-4 image-section">
              <h3 class="form-label">Product Images *</h3>
              <p class="text-gray-500 text-sm mb-2">Upload at least three product images. Square images are recommended.</p>
              <div id="images-error" class="error-message"></div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Image 1 -->
                <div>
                  <label class="form-label">Image 1 (Required)</label>
                  <div class="mb-2">
                    <img id="imgView1" src="" alt="Preview" class="image-preview">
                  </div>
                  <div class="mb-2">
                    <img id="croppedImg1" src="" alt="Cropped" class="cropped-image">
                  </div>
                  <div class="mb-2">
                    <input id="input1" name="images" type="file" accept="image/*" class="form-control" required>
                  </div>
                  <div class="image-cropper-container image-cropper-container-1">
                    <div class="flex justify-end gap-1 mt-1">
                      <button id="cancelButton1" type="button" class="px-2 py-0.5 bg-gray-400 text-white rounded text-sm">Cancel</button>
                      <button id="saveButton1" type="button" class="px-2 py-0.5 bg-green-600 text-white rounded text-sm">Save Crop</button>
                    </div>
                  </div>
                </div>
                <!-- Image 2 -->
                <div>
                  <label class="form-label">Image 2 (Required)</label>
                  <div class="mb-2">
                    <img id="imgView2" src="" alt="Preview" class="image-preview">
                  </div>
                  <div class="mb-2">
                    <img id="croppedImg2" src="" alt="Cropped" class="cropped-image">
                  </div>
                  <div class="mb-2">
                    <input id="input2" name="images" type="file" accept="image/*" class="form-control" required>
                  </div>
                  <div class="image-cropper-container image-cropper-container-2">
                    <div class="flex justify-end gap-1 mt-1">
                      <button id="cancelButton2" type="button" class="px-2 py-0.5 bg-gray-400 text-white rounded text-sm">Cancel</button>
                      <button id="saveButton2" type="button" class="px-2 py-0.5 bg-green-600 text-white rounded text-sm">Save Crop</button>
                    </div>
                  </div>
                </div>
                <!-- Image 3 -->
                <div>
                  <label class="form-label">Image 3 (Required)</label>
                  <div class="mb-2">
                    <img id="imgView3" src="" alt="Preview" class="image-preview">
                  </div>
                  <div class="mb-2">
                    <img id="croppedImg3" src="" alt="Cropped" class="cropped-image">
                  </div>
                  <div class="mb-2">
                    <input id="input3" name="images" type="file" accept="image/*" class="form-control" required>
                  </div>
                  <div class="image-cropper-container image-cropper-container-3">
                    <div class="flex justify-end gap-1 mt-1">
                      <button id="cancelButton3" type="button" class="px-2 py-0.5 bg-gray-400 text-white rounded text-sm">Cancel</button>
                      <button id="saveButton3" type="button" class="px-2 py-0.5 bg-green-600 text-white rounded text-sm">Save Crop</button>
                    </div>
                  </div>
                </div>
                <!-- Image 4 -->
                <div>
                  <label class="form-label">Image 4 (Optional)</label>
                  <div class="mb-2">
                    <img id="imgView4" src="" alt="Preview" class="image-preview">
                  </div>
                  <div class="mb-2">
                    <img id="croppedImg4" src="" alt="Cropped" class="cropped-image">
                  </div>
                  <div class="mb-2">
                    <input id="input4" name="images" type="file" accept="image/*" class="form-control">
                  </div>
                  <div class="image-cropper-container image-cropper-container-4">
                    <div class="flex justify-end gap-1 mt-1">
                      <button id="cancelButton4" type="button" class="px-2 py-0.5 bg-gray-400 text-white rounded text-sm">Cancel</button>
                      <button id="saveButton4" type="button" class="px-2 py-0.5 bg-green-600 text-white rounded text-sm">Save Crop</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="d-grid">
              <button id="submitButton" type="button" class="btn btn-primary">Add Product</button>
            </div>
          </form>
        </div>
      </div>
    </section>
    
  <script defer src="/js/admin/addProduct.js"></script>
  
</body>
</html>